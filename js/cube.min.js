var cube,angleCurrentRX=0,angleCurrentRY=0,differenceX={absolute:null,relative:null},differenceY={absolute:null,relative:null},userInput={lockedAxis:null,pointDown:{x:null,y:null}};function convertPxInDegrees(a){return a*90/cube.clientHeight}function updateCube(a,b){cube.setAttribute("style","-webkit-transform: rotateX("+(angleCurrentRX+a)+"deg) rotateY("+(angleCurrentRY+b)+"deg);transform: rotateX("+(angleCurrentRX+a)+"deg) rotateY("+(angleCurrentRY+b)+"deg);")}function onResize(a){}function onMD(a){a.preventDefault();userInput={lockedAxis:null,pointDown:{x:a.clientX,y:a.clientY}}}function onMM(a){if(userInput.pointDown.x!==null){differenceX.relative=a.clientX-userInput.pointDown.x;differenceX.absolute=Math.abs(differenceX.relative);differenceY.relative=userInput.pointDown.y-a.clientY;differenceY.absolute=Math.abs(differenceY.relative);if(userInput.lockedAxis===null&&(differenceX.absolute>10||differenceY.absolute>10)){if(differenceX.absolute>differenceY.absolute){userInput.lockedAxis="x"}else{userInput.lockedAxis="y"}}if(userInput.lockedAxis==="x"){updateCube(0,convertPxInDegrees(differenceX.relative))}else{if(userInput.lockedAxis==="y"){updateCube(convertPxInDegrees(differenceY.relative),0)}}}}function onMU(a){if(userInput.lockedAxis==="x"){angleCurrentRY+=convertPxInDegrees(a.clientX-userInput.pointDown.x)}else{if(userInput.lockedAxis==="y"){angleCurrentRX+=convertPxInDegrees(userInput.pointDown.y-a.clientY)}}userInput.lockedAxis=null;userInput.pointDown.x=null;userInput.pointDown.y=null}function onTD(a){}function onTM(a){}function onTU(a){}function setup(){var a=document.getElementsByTagName("body")[0];cube=document.getElementById("cube");document.addEventListener("resize",onResize);cube.addEventListener("mousedown",onMD);a.addEventListener("mousemove",onMM);a.addEventListener("mouseup",onMU);angleCurrentRX=5;angleCurrentRY=10;updateCube(0,0)}window.addEventListener("load",setup,false);